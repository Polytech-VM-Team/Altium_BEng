## Рассуждение на тему _3D_-модели компонента

### Предисловие

Настал прекрасный момент в Вашей жизни — Вы решили добавить свой электронный 
компонент в библиотеку:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_1.png)

Вы нарисовали условное графическое обозначение _в соответствии с ГОСТами_: 

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_2.png)

Вы создали посадочное место с помощью встроенного в _Altium Designer_ инструмента _IPC Compliant Footprint Wizard_, 
_внимательно и скрупулёзно_ перенеся все необходимые размеры корпуса компонента:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_3.png)

Вы _проверили_, что указанный выше инструмент создал посадочное место, не идущее 
вразрез с _рекомендациями производителя_, _правилами библиотеки_ и _здравым смыслом_:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_4.png) 

Наконец, Вы открываете трёхмерный вид Вашего прекрасного компонента. Вы видите _это_:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_5.png)

Немая сцена.

### Введение

Что ж, если Ваше чувство прекрасного не задето увиденной картиной; если Вы полагаете,
что данный компонент ни то что не использует — даже не увидит никто; если Вы уверены,
что сможете и дальше крепко и спокойно спать по ночам, смело скажите себе: "Ла-а-адно! 
И так сойдёт!" и добавляйте компонент как есть. И Ваше счастье, если я не узнаю, где
Вы живёте…

Если же Вам небезразлично, как выглядят компоненты Ваши и других людей на
чьей бы то ни было печатной плате, пусть и в САПР, а не в реальной жизни, моё Вам 
уважение — данное руководство специально для Вас.

### 1. _IPC Compliant Footprint Wizard_

Если Вы бы не хотите тратить большое количество своего свободного времени на поиски
более-менее приемлимой _3D_-модели, стоит вернуться всего лишь на пару шагов назад.
Возможно, Вы уже заметили и даже выставили данный чекбокс (англ. _checkbox_ - "флажок") при создании компонента в
инструменте _IPC Compliant Footprint Wizard_:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_6.png)

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_7.png)

Данный чекбокс доступен на всех этапах создания посадочного места в данном инструменте.
Как только Вы убедитесь, что все остальные настройки выставлены правильно, Вы можете
нажать кнопку _Finish_ (при этом будут перезаписаны все изменения, которые Вы вносили
в посадочное место в текущем файле). После этого, открыв трёхмерный вид, Вы увидите 
уже вполне себе приличную _3D_-модель, которую даже ~~маме~~ людям не стыдно показать:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_8.png)

Тем не менее, стоит понимать, что это всего лишь сгенерированная модель, не всегда
способная удовлетворить Ваши вкусовые предпочтения (в случае других корпусов). Также
в _Altium Designer_ представлены инструменты для генерации посадочных мест (и, 
соответственно, моделей) далеко не всех электронных компонентов. Например, при 
добавлении в библиотеку разъёма данный САПР ничем не сможет Вам помочь. Вследствие 
этого необходимо рассмотреть некоторые другие варианты поиска и добавления _3D_-моделей.

### 2. Сайт производителя

На самом деле большое количество производителей электронных компонентов, помимо всей
необходимой документации, предоставляет огромное количество других полезных вещей:
программы для расчёта номиналов пассивных компонентов ("обвязки"), программы для 
симуляции, условные графические обозначения (по стандартам производителя), посадочные
места, а также (что важно для нас) _3D_-модели. Иногда их нужно немного поискать, но 
куда чаще они доступны прямо на странице компонента на сайте производителя:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_9.png)

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_10.png)

При скачивании Вам необходимо выбрать формат _STEP_, потому что именно данный формат
использует _Altium Designer_ при добавлении _3D_-модели на посадочное место компонента:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_11.png)

Проблема заключается в том, что время от времени скачанные с сайта производителя 
модели выглядят даже хуже, чем сгенерированные с помощью инструментов САПР:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_12.png)

Тем не менее, как правило, ситуация всё же обратная, и _3D_-модели получаются очень и 
очень симпатичными. К тому же зачастую это самый быстрый способ получить модель
хорошего качества, так как на сайте производителя не требуется проходить регистрацию.

Если же и данный вариант Вас не устраивает, мы идём дальше.

### 3. Сторонние сайты

Итак, если _Altium Designer_ не способен сгенерировать _3D_-модель для Вашего компонента,
Вы не нашли таковой на сайте производителя или Вас просто чем-то не устроили модели,
полученные описанным выше образом, Ваш путь лежит на сайты сторонних сообществ.

На таких сайтах Вы и другие пользователи можете скачивать авторские _3D_-модели 
компонентов или же загружать свои (но об этом чуть позже). Незначительная проблема
заключается лишь в том, что данные сайты требуют от Вас регистрации (разумеется,
бесплатной), что может занять у Вас аж целых несколько минут. Тем не менее, в 
долгосрочной перспективе это сэкономит Вам значительное время и силы.

#### 3.1. _SnapEDA_

В первую очередь я бы хотел посоветовать Вам сайт [_SnapEDA_](https://www.snapeda.com/). 
На данном сайте Вы можете найти документацию на Ваш компонент, его условное 
графическое обозначение, посадочное место и _3D_-модель (правда, не всегда всё сразу) 
высокого качества в формате _STEP_:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_13.png)

Некоторые производители сотрудничают с данным сайтом, и, вместо того чтобы 
размещать на своём сайте _CAD_-ресурсы, размещают там ссылку на _SnapEDA_:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_14.png)

На данном сайте Вы с огромной вероятностью найдёте качественные _3D_-модели тех 
компонентов, которые не способен сгенерировать (или лучше бы не был способен) 
_Altium Designer_: электролитические конденсаторы, катушки индуктивности, тактовые
кнопки, переключатели, разъёмы и многое другое.

#### 3.2. _3D ContentCentral_

Если по какой-то причине _3D_-модели компонента на _SnapEDA_ не было, Вы можете 
заглянуть на сайт [_3D ContentCentral_](https://www.3dcontentcentral.com/). В отличие
от предыдущего сайта, где на каждый вид корпуса в лучшем случае по одной модели от 
производителя, здесь очень часто Вам будет из чего повыбирать, и Вы, вероятно, 
сможете найти себе модель по душе. Но Вам при этом необходимо знать название корпуса 
компонента и надеяться, что автор модели назвал её соответствующим образом:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_15.png)

Выбрав понравившуюся Вам модель, Вы можете скачать её, не забыв выбрать формат _STEP_:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_16.png)

#### 3.3. _GrabCAD_

Если и на предыдущем сайте Вы не смогли найти то, что искали, возможно, стоит 
заглянуть на [_GrabCAD_](https://grabcad.com/). Вообще, на данном сайте представлены 
модели для более широкого круга пользователей из различных областей, но и _3D_-модели 
электронных компонентов можно найти:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_17.png)

Имейте в виду, что на данном сайте не всегда можно найти модели в формате _STEP_,
поэтому Вам будет необходимо иметь соответствующий САПР, чтобы открыть _3D_-модель и 
конвертировать её в нужный формат:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_18.png)

#### 3.4. Прочие сайты

Возможно, здесь в будущем появится список и других хороших сайтов (если такие
вообще существуют), но мне, в целом, хватало и указанных выше (_прим._ [Библиотека электронных компонентов](http://cad-design.ru/downloads/library.html)).

### 4. Создание собственной _3D_-модели

Вы просмотрели все указанные выше варианты, но так и не смогли найти необходимую
_3D_-модель. Что ж, у Вас как в том анекдоте — два путя: либо оставить тот "гроб", что
сгенерировал _Altium Designer_, либо создать _3D_-модель в САПР самому. Если первое — 
считай, что пропало. А если второе — ~~считай, что женился~~ Вам придётся проявить 
творчество.

Для моделирования подходит практически любая САПР, в которой Вам удобно работать
(_KOMPAS-3D_, _SolidWorks_ и др.). Главное, чтобы в ней была возможность конвертировать
_3D_-модель из проекта данной среды в формат _STEP_.

Кроме того, Вас может чем-то не устроить уже найденная _3D_-модель (цветовой палитрой, 
высотой, отсутствием скруглений или ещё какими-либо мелочами). В этом случае Вы также
можете открыть модель в САПР, и там уже отредактировать её (современные САПР обычно
способны читать модели в формате _STEP_), после чего обязательно сохранить результат в формате 
_STEP_.

### Заключение

После всех ваших мучений с поисками _3D_-модели, Вы можете, наконец, добавить её на
посадочное место. Для этого выберете из списка слоёв слой _Top 3D Body_ 
(_Mechanical 13_) и с помощью команды _Place -> 3D Body_ добавьте _3D_-модель: 

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_19.png)

Возможно, Вам понадобится повернуть её вокруг своих осей и изменить расстояние 
от начала координат до плоскости платы на вкладке _Properties_:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_20.png)

После этого Ваш компонент уже точно готов для добавления в нашу библиотеку:

![](https://github.com/TonyCooT/Altium_BEng/blob/master/images/add_3d_model/add_3d_model_21.png)

С этим Вас и поздравляю!

### Послесловие

Если Вы дошли до того, что самостоятельно создали в САПР какой-либо компонент, Вы
можете добавить его на один или несколько перечисленных выше сайтов для развития
пользовательского сообщества. Но это уже, разумеется, дело индивидуальное.

Спасибо за прочтение данного руководства. Надеюсь, оно оказалась Вам полезным.
